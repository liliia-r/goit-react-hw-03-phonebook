{"version":3,"sources":["components/Contact/Contact.js","components/Contacts/Contacts.js","components/Phonebook/Phonebook.js","components/ContactsFilter/ContactsFilter.js","utils/storage.js","App.js","index.js"],"names":["Contact","name","number","onDeleteContact","id","onClick","Contacts","filteredContacts","length","map","contact","key","Phonebook","state","handlerChange","e","target","value","setState","handlerSubmit","preventDefault","uuidv4","props","onHandlerSubmit","reset","this","className","onSubmit","htmlFor","type","onChange","Component","ContactsFilter","filter","onHandleChangeFilter","localStorage","setItem","JSON","stringify","err","Error","items","getItem","parse","App","contacts","handleChangeFilter","addContact","some","savedContact","toLowerCase","toast","error","warn","deleteContact","updateStorage","prevState","storage","console","log","savedContacts","prevProps","includes","autoClose","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.2f34142f.chunk.js","sourcesContent":["import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst Contact = ({ name, number, onDeleteContact, id }) => {\n  return (\n    <>\n      {name}: {number}\n      <button onClick={onDeleteContact}>Delete</button>\n    </>\n  );\n};\n\nContact.propTypes = {\n  name: PropTypes.string.isRequired,\n  number: PropTypes.string.isRequired,\n  onDeleteContact: PropTypes.func.isRequired,\n};\n\nexport default Contact;\n","import React from \"react\";\nimport Contact from \"../Contact/Contact\";\nimport PropTypes from \"prop-types\";\n\nconst Contacts = ({ filteredContacts, onDeleteContact }) =>\n  filteredContacts.length > 0 && (\n    <ul>\n      {filteredContacts.map((contact) => (\n        <li key={contact.id}>\n          <Contact\n            {...contact}\n            onDeleteContact={() => onDeleteContact(contact.id)}\n          />\n        </li>\n      ))}\n    </ul>\n  );\n\nContacts.propTypes = {\n  filteredContacts: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.string.isRequired,\n    }).isRequired\n  ).isRequired,\n  onDeleteContact: PropTypes.func.isRequired,\n};\n\nexport default Contacts;\n","import React, { Component } from \"react\";\nimport { v4 as uuidv4 } from \"uuid\";\n\nclass Phonebook extends Component {\n  state = {\n    name: \"\",\n    number: \"\",\n  };\n\n  handlerChange = (e) => {\n    const name = e.target.name;\n    const value = e.target.value;\n    this.setState({\n      [name]: value,\n    });\n  };\n\n  handlerSubmit = (e) => {\n    e.preventDefault();\n    const { name, number } = this.state;\n    const contact = {\n      id: uuidv4(),\n      name: name,\n      number: number,\n    };\n    this.props.onHandlerSubmit(contact);\n    this.reset();\n  };\n\n  reset = () => {\n    this.setState({ name: \"\", number: \"\" });\n  };\n\n  render() {\n    const { name, number } = this.state;\n    return (\n      <div>\n        <form className=\"PhonebookForm\" onSubmit={this.handlerSubmit}>\n          <h2>Phonebook</h2>\n\n          <label htmlFor=\"name\" className=\"Label\">\n            Name\n            <input\n              className=\"PhonebookForm__name\"\n              type=\"text\"\n              id={name}\n              name=\"name\"\n              value={name}\n              onChange={this.handlerChange}\n            />\n          </label>\n\n          <label htmlFor=\"number\">\n            Number\n            <input\n              className=\"PhonebookForm__number\"\n              type=\"text\"\n              id={number}\n              name=\"number\"\n              value={number}\n              onChange={this.handlerChange}\n            />\n          </label>\n\n          <button className=\"PhonebookForm__btn\" type=\"submit\">\n            Add Contact\n          </button>\n        </form>\n      </div>\n    );\n  }\n}\n\nexport default Phonebook;\n","import React from \"react\";\nimport PropTypes from \"prop-types\";\n\nconst ContactsFilter = ({ filter, onHandleChangeFilter }) => {\n  return (\n    <>\n      <h2>Contacts</h2>\n      <label htmlFor=\"filter\">\n        Find contacts by name\n        <input\n          className=\"PhonebookForm__filter\"\n          type=\"text\"\n          id={filter}\n          name=\"filter\"\n          value={filter}\n          onChange={onHandleChangeFilter}\n        />\n      </label>\n    </>\n  );\n};\n\nContactsFilter.propTypes = {\n  filter: PropTypes.string,\n  onHandleChangeFilter: PropTypes.func.isRequired,\n};\n\nexport default ContactsFilter;\n","const save = (key, value) => {\n  try {\n    localStorage.setItem(key, JSON.stringify(value));\n  } catch (err) {\n    throw new Error();\n  }\n};\n\nconst get = (key) => {\n  try {\n    const items = localStorage.getItem(key);\n    return items ? JSON.parse(items) : null;\n  } catch (err) {\n    throw new Error();\n  }\n};\n\nexport default {\n  save,\n  get,\n};\n","import React, { Component } from \"react\";\nimport Contacts from \"./components/Contacts/Contacts\";\nimport Phonebook from \"./components/Phonebook/Phonebook\";\nimport ContactsFilter from \"./components/ContactsFilter/ContactsFilter\";\nimport { ToastContainer, toast } from \"react-toastify\";\nimport \"react-toastify/dist/ReactToastify.css\";\nimport storage from \"./utils/storage\";\n\nexport default class App extends Component {\n  state = {\n    contacts: [\n      { id: \"id-1\", name: \"Rosie Simpson\", number: \"459-12-56\" },\n      { id: \"id-2\", name: \"Hermione Kline\", number: \"443-89-12\" },\n      { id: \"id-3\", name: \"Eden Clements\", number: \"645-17-79\" },\n      { id: \"id-4\", name: \"Annie Copeland\", number: \"227-91-26\" },\n    ],\n    filter: \"\",\n  };\n\n  handleChangeFilter = (e) => {\n    const value = e.target.value;\n    this.setState({ filter: value });\n  };\n\n  addContact = (contact) => {\n    const isExist = this.state.contacts.some(\n      (savedContact) =>\n        savedContact.name.toLowerCase() === contact.name.toLowerCase()\n    );\n\n    if (isExist) {\n      toast.error(`${contact.name} is already in contacts.`);\n      return;\n    }\n    if (contact.name.length > 2 && contact.number.length > 5) {\n      this.setState((state) => ({\n        contacts: [...this.state.contacts, contact],\n      }));\n    } else if (contact.name.length <= 2) {\n      toast.warn(\"Small contact name!\");\n    } else if (contact.number.length <= 4) {\n      toast.warn(\"Small contact number!\");\n    }\n  };\n\n  deleteContact = (id) => {\n    this.setState((state) => ({\n      contacts: state.contacts.filter((contact) => contact.id !== id),\n    }));\n  };\n\n  async componentDidMount() {\n    const savedContacts = storage.get(\"addedContacts\");\n    if (savedContacts) {\n      this.setState({\n        contacts: savedContacts,\n      });\n    }\n  }\n\n  updateStorage = (prevState) => {\n    if (prevState.contacts !== this.state.contacts) {\n      storage.save(\"addedContacts\", this.state.contacts);\n      console.log(\"update\");\n    }\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    this.updateStorage(prevState);\n  }\n\n  render() {\n    const { contacts, filter } = this.state;\n    const filteredContacts = contacts.filter(({ name }) => {\n      return name.toLowerCase().includes(filter.toLowerCase());\n    });\n    return (\n      <>\n        <Phonebook onHandlerSubmit={this.addContact} />\n        <ToastContainer autoClose={5000} />\n        {this.state.contacts.length >= 2 && (\n          <ContactsFilter\n            filter={filter}\n            onHandleChangeFilter={this.handleChangeFilter}\n          />\n        )}\n        <Contacts\n          filteredContacts={filteredContacts}\n          onDeleteContact={this.deleteContact}\n        />\n      </>\n    );\n  }\n}\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}